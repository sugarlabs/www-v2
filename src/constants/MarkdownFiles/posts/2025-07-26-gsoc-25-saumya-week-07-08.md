---
title: "GSoC '25 Week 07–08 Update by Saumya Shahi"
excerpt: "This period focused on implementing tower disconnections, dynamic updates, and improving parent–child relationship logic in the Masonry system."
category: "DEVELOPER NEWS"
date: "2025-07-26"
slug: "2025-07-26-gsoc-25-saumya-shahi-week07-08"
author: "@/constants/MarkdownFiles/authors/saumya-shahi.md"
tags: "gsoc25,sugarlabs,week07-08,saumya-shahi"
image: "assets/Images/GSOC.webp"
---

# Week 07–08 Progress Report by Saumya Shahi

**Project:** [Masonry Module - Music Blocks v4](https://github.com/sugarlabs/musicblocks-v4)  
**Mentors:** [Anindya Kundu](https://github.com/meganindya/)  
**Assisting Mentors:** [Walter Bender](https://github.com/walterbender), [Devin Ulibarri](https://github.com/pikurasa)  
**Reporting Period:** 2025-07-13 – 2025-07-26  

---

## Goals for This Period

- Add logic for **tower disconnections** inside the workspace.  
- Update **parent-child relationships dynamically** during disconnections.  
- Ensure bounding box recalculation after a brick or sub-tower is updated.  
- Test system robustness by dragging bricks/towers in real-time.  

---

## This Week's Achievements

1. **Tower Disconnection Logic**  
   - Implemented drag-to-disconnect functionality for individual bricks and groups of bricks.  
   - Towers split automatically into sub-towers while maintaining valid structure.  

2. **Dynamic Parent–Child Updates**  
   - Ensured that when a child brick is removed, its parent updates both **dimensions** and **connection slots** immediately.  
   - Recalculated bounding boxes to avoid rendering issues.  

3. **Workspace Testing**  
   - Drag-and-drop now supports real-time snapping and real-time disconnection.  
   - Added visual rejection markers when an invalid disconnection was attempted.  

4. **Visual Verification**  
   - Verified behavior in Storybook and Playground.  
   - Example: Disconnected compound towers re-render correctly as separate trees.  

---

## Challenges & How I Overcame Them

- **Challenge:** Recursive updates caused performance slowdowns for nested towers.  
**Solution:** Optimized traversal using cached dimensions and partial recalculations.  

- **Challenge:** Handling simultaneous drag of sub-towers with expressions.  
**Solution:** Added special-case handling for expression slots and adjusted the bounding box calculation.  

---

## Key Learnings

- Gained deeper insight into **tree traversal optimizations**.  
- Understood edge cases in **drag-and-drop UX**.  
- Strengthened knowledge of **React state management (Recoil)** for dynamic updates.  


---

## Resources & References

- **Tower Utils:** [GitHub PR](https://github.com/sugarlabs/musicblocks-v4/pull/450)  
- **Drag-and-Drop Docs:** [React Aria DnD](https://react-spectrum.adobe.com/react-aria/useDrag.html)  

---

## Acknowledgments

Thank you to my mentors, the Sugar Labs community, and fellow GSoC contributors for your ongoing support and feedback.

---
